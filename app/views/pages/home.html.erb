<div class="wrapper">
  <% if @error != nil %>
    <div class="alert alert-warning alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <%=@error%>
    </div>
  <%end%>
  <div class="navbar-wagon-home">

    <!-- Logo -->
    <%= link_to root_path, class: "navbar-wagon-brand link" do %>
      <div class="flex">
        <%= image_tag "lion-b&w.png", height: 50, class:"white" %>
        <h3 style= "color: white; padding-left: 20px; margin-top: 11px; ">Coursehunt.io</h3>
      </div>
    <% end %>

    <!-- Right Navigation -->
    <div class="navbar-wagon-right hidden-xs hidden-sm">
      <%if !user_signed_in?%>
       <%= link_to 'Login', new_user_session_path, class: "navbar-wagon-item navbar-wagon-link-home"%>
      <%end%>
    </div>

    <!-- Avatar with dropdown menu -->
    <%if user_signed_in?%>
    <div class="navbar-wagon-item">
      <div class="dropdown">
        <%if current_user.avatar.identifier.nil?%>
          <%= image_tag "http://marclimoservices.com/wp-content/uploads/2017/05/facebook-default.png", class: "avatar-sm dropdown-toggle", id: "navbar-wagon-menu", "data-toggle" => "dropdown" %>
        <%else%>
          <img src='<%= current_user.avatar.identifier %>' class="avatar-sm dropdown-toggle" id="navbar-airnbboat-menu" data-toggle="dropdown">
        <%end%>
        <ul class="dropdown-menu dropdown-menu-right navbar-wagon-dropdown-menu">
          <li><%= link_to "Profile", user_path(current_user.id) %></li>
          <li><%= link_to "Log out", destroy_user_session_path, method: :delete, class: "navbar-wagon-item navbar-wagon-link"%></li>
        </ul>
      </div>
    </div>
    <%end%>

    <!-- Dropdown list appearing on mobile only -->
    <div class="navbar-wagon-item hidden-md hidden-lg">
      <div class="dropdown">
        <i class="fa fa-bars dropdown-toggle" data-toggle="dropdown"></i>
        <ul class="dropdown-menu dropdown-menu-right navbar-wagon-dropdown-menu">
          <li><a href="#">Some mobile link</a></li>
          <li><a href="#">Other one</a></li>
          <li><a href="#">Other one</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="search-content">
        <div class="col-xs-12 margin42">
          <h2 style="color: white; font-size: 50px; font-weight: 600;">Find courses to learn..</h2>
        </div>
        <div class="col-xs-12 margin42">
          <h2 style="color: white; font-size: 120px; font-weight: lighter;">
            <div style="padding: 20px 0px;">
              <span id="banner-typed-text"></span>
            </div>
          </h2>
        </div>
        <div class="margin42">
          <div class="form-wrapper">
            <div class="growingform">
              <%= simple_form_for :criteria, url: courses_path,
                  wrapper: :inline_form,
                  html: { class: "form-inline test"},
                  wrapper_mappings: {
                  boolean: :inline_boolean}, method: :get do |f| %>

              <%= f.input :search, id: "search", as: :string,
                          input_html: {
                            class: "awesomplete",
                            data: {
                              list: Course::CATEGORIES.join(", ")
                            }
                          }
              %>
              <%= f.button :submit, "Hunt", class: "button-green-primary-landing"%>
              <% end %>
            </div>
          </div>
        </div>
        <div class="col-xs-12">
          <a href="#categories" class="link">
            <div class="more-info-container">
              <div class="more-info">
                <p >Browse Categories</p>
                <i class="fas fa-chevron-down fa-2x"></i>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>

  <!-- Button trigger modal -->
  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
    Launch demo modal
  </button>

  <!-- Modal -->
  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
           <%= simple_form_for :criteria, url: courses_path, :method => :get do |f| %>
          <ul class="filter ul-reset">
            <li class="filter-item">
              <h3 class="filter-item-inner-heading minus"> Please latform
              </h3>
              <ul class="filter-attribute-list ul-reset">
                <div class="filter-attribute-list-inner">
                  <div class="flex">
                    <li class="filter-attribute-item">
                      <%= label_select_p_home(@platforms, "udemy") %>
                    </li>
                    <li class="filter-attribute-item">
                      <%= label_select_p_home(@platforms, "udacity") %>
                    </li>
                  </div>
                  <div class="flex">
                    <li class="filter-attribute-item">
                      <%= label_select_p_home(@platforms, "edx") %>
                    </li>
                    <li class="filter-attribute-item">
                      <%= label_select_p_home(@platforms, "futurelearn") %>
                    </li>
                  </div>
                </div>
              </ul>
            </li>

            <li class="filter-item">
              <h3 class="filter-item-inner-heading minus"> Knowledge level
              </h3>
              <ul class="filter-attribute-list ul-reset">
                <div class="filter-attribute-list-inner">
                  <li class="filter-attribute-item">
                    <%= label_select_home(@levels, "beginner") %>
                  </li>
                  <li class="filter-attribute-item">
                    <%= label_select_home(@levels, "intermediate") %>
                  </li>
                  <li class="filter-attribute-item">
                    <%= label_select_home(@levels, "advanced") %>
                  </li>
                </div>
              </ul>
            </li>

            <li class="filter-item">
              <h3 class="filter-item-inner-heading minus"> Price
              </h3>
              <ul class="filter-attribute-list ul-reset">
                <div class="filter-attribute-list-inner">
                  <li class="filter-attribute-item">
                    <%= label_select_price_home(@prices, "Free") %>
                  </li>
                  <li class="filter-attribute-item">
                    <%= label_select_price_home(@prices, "Paid") %>
                  </li>
                </div>
              </ul>
            </li>

            <li class="filter-item">
              <h3 class="filter-item-inner-heading minus"> Completion time
              </h3>
              <ul class="filter-attribute-list ul-reset">
                <div class="filter-attribute-list-inner">
                  <li class="filter-attribute-item">
                    <%= label_select_n_home("completion_time", @completion_times, "> 1 week") %>
                  </li>
                  <li class="filter-attribute-item">
                    <%= label_select_n_home("completion_time", @completion_times, "< 1 week") %>
                  </li>
                </div>
              </ul>
            </li>
          </ul>
          <div>
            <%= f.hidden_field :search, value: @search_input %>
            <!-- submit button -->
            <%= f.button :submit, "Specify Search", class: "button-white-sidebar"%>
            <%= button_to "Clear", "#", class: "uncheck-all btn button-white-sidebar-inv" %>


          </div>
          <% end %>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

    <div id="categories">
      <div class="row">
        <div class="col-xs-12">
          <div class="category-container">
            <h2 style="color: white; font-size: 50px; font-weight: 600;">Pick your favourite category:</h2>
          </div>
        </div>
        <div class="cards-home-all">
          <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="box homecards">
              <h3><%= link_to "Python", courses_path(criteria: {search: "python"}), class: "icon link" %></h3>
            </div>
          </div>
          <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="box homecards">
              <h3><%= link_to "Ruby", courses_path(criteria: {search: "ruby"}), class: "icon link" %></h3>
            </div>
          </div>
          <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="box homecards">
              <h3><%= link_to "JavaScript", courses_path(criteria: {search: "javascript"}), class: "link" %></h3>
            </div>
          </div>
          <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="box homecards">
              <h3><%= link_to "Django", courses_path(criteria: {search: "django"}), class: "link" %></h3>
            </div>
          </div>
          <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="box homecards">
              <h3><%= link_to "Rails", courses_path(criteria: {search: "rails"}), class: "link" %></h3>
            </div>
          </div>
          <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="box homecards">
              <h3><%= link_to "NodeJs", courses_path(criteria: {search: "nodejs"}), class: "link" %></h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


